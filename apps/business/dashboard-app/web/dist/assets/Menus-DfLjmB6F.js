import{d as h,A as Z,y as I,u as e,b as ee}from"./index-B6r6h-M4.js";import{M as G}from"./Modal-OohKvUJY.js";const B=({children:r,className:c=""})=>e("span",{className:`inline-block ${c}`,style:{lineHeight:"1em"},children:r}),te=({className:r=""})=>e(B,{className:r,children:"🔍"}),ne=({className:r=""})=>e(B,{className:r,children:"⏹️"}),ae=({className:r=""})=>e(B,{className:r,children:"☰"}),le=({className:r=""})=>e(B,{className:r,children:"✕"}),Y=({className:r=""})=>e(B,{className:r,children:"＋"}),J=10,re=({menus:r,onMenuSelect:c,onMenuEdit:d,onMenuDelete:C,onCreateNew:p,onUpdateMenus:O})=>{const[L,V]=h("list"),[S,A]=h(""),[P,D]=h("all"),[f,b]=h(1),[y,N]=h(null),w=Z(null),i=Z({}),v=Array.from(new Set(r.flatMap(n=>n.locationNames||[]))).map(n=>({id:n.toLowerCase().replace(/\s+/g,"-"),name:n})),k=r.filter(n=>{const l=n.name.toLowerCase().includes(S.toLowerCase())||(n.description?.toLowerCase().includes(S.toLowerCase())??!1),g=P==="all"||n.locationNames&&n.locationNames.includes(P);return l&&g}),x=Math.ceil(k.length/J),z=f*J,$=z-J,R=k.slice($,z),E=n=>b(n),U=()=>b(n=>Math.min(n+1,x)),H=()=>b(n=>Math.max(n-1,1)),W=n=>n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",_=(n,l)=>{n.target.closest('button, a, [role="menuitem"]')||c(l)(n)},F=n=>{N(y===n?null:n)};I(()=>{const n=l=>{w.current&&!w.current.contains(l.target)&&N(null)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const j=(n,l)=>{i.current[l]=n};return I(()=>{typeof window<"u"&&localStorage.setItem("menuViewMode",L)},[L]),e("div",{className:"bg-gray-50 min-h-screen p-6",children:[e("div",{className:"space-y-6",children:[e("div",{className:"flex justify-between items-center",children:[e("h1",{className:"text-2xl font-bold text-gray-900",children:"Menus"}),e("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e(Y,{className:"-ml-1 mr-2 h-4 w-4"}),"Create Menu"]})]}),e("p",{className:"text-sm text-gray-500",children:"Use menus to sell your items on kiosks, delivery apps, online ordering sites and any restaurant POS modes."}),e("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e("div",{className:"relative w-full sm:w-64",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e(te,{className:"h-4 w-4 text-gray-400"})}),e("input",{type:"text",placeholder:"Search menus...",value:S,onChange:n=>{A(n.currentTarget.value),b(1)},className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),S&&e("button",{onClick:()=>A(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e(le,{className:"h-4 w-4 text-gray-400 hover:text-gray-500"})})]}),e("div",{className:"w-full sm:w-48",children:e("select",{value:P,onChange:n=>{D(n.currentTarget.value),b(1)},className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[e("option",{value:"all",children:"All Locations"}),v.map(({id:n,name:l})=>e("option",{value:l,children:l},n))]})}),e("div",{className:"flex rounded-md shadow-sm",children:[e("button",{type:"button",onClick:()=>V("grid"),className:`relative inline-flex items-center px-3 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${L==="grid"?"bg-gray-100 text-blue-600":"text-gray-500 hover:bg-gray-50"}`,"aria-label":"Grid view",children:e(ne,{className:"h-4 w-4"})}),e("button",{type:"button",onClick:()=>V("list"),className:`relative inline-flex items-center px-3 py-2 rounded-r-md border border-l-0 border-gray-300 bg-white text-sm font-medium ${L==="list"?"bg-gray-100 text-blue-600":"text-gray-500 hover:bg-gray-50"}`,"aria-label":"List view",children:e(ae,{className:"h-4 w-4"})})]})]})]}),e("div",{className:"border-t border-gray-200 my-4"}),e("div",{className:"mt-6",children:k.length===0?e("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[e("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No menus found"}),e("p",{className:"mt-1 text-sm text-gray-500",children:S||P!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new menu."}),e("div",{className:"mt-6",children:e("button",{type:"button",onClick:p,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e(Y,{className:"-ml-1 mr-2 h-4 w-4"}),"New Menu"]})})]}):L==="list"?e("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e("div",{className:"overflow-x-auto",children:e("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:e("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Menu Name"}),e("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Actions"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(n=>e("tr",{onClick:l=>_(l,n),className:"hover:bg-gray-50 cursor-pointer",children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0 h-10 w-10 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 font-medium",children:n.name.charAt(0).toUpperCase()}),e("div",{className:"ml-4",children:[e("div",{className:"text-sm font-medium text-gray-900",children:n.name}),e("div",{className:"text-sm text-gray-500",children:[n.items?.length||0," ",n.items?.length===1?"item":"items"]})]})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("div",{className:"text-sm text-gray-900",children:n.locationName||n.location||"No location"})}),e("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:W(n.updatedAt)}),e("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e("div",{className:"flex items-center justify-end gap-6",children:[n.isNew&&e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"New"}),e("div",{className:"relative",ref:w,children:[e("button",{type:"button",ref:l=>j(l,n.id),onClick:l=>{l.stopPropagation(),F(n.id)},className:"text-gray-400 hover:text-gray-500 focus:outline-none","aria-haspopup":"true","aria-expanded":y===n.id,children:[e("span",{className:"sr-only",children:"Open options"}),e("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})]}),y===n.id&&e("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-10",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:e("div",{className:"py-1",role:"none",children:[e("button",{onClick:l=>{l.stopPropagation(),d(n),N(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"Edit"}),e("button",{onClick:l=>{l.stopPropagation(),C(n),N(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",role:"menuitem",children:"Delete"})]})})]})]})})]},n.id))})]})}),x>1&&e("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:e("div",{className:"flex-1 flex justify-between sm:justify-between",children:[e("div",{children:e("p",{className:"text-sm text-gray-700",children:["Showing ",e("span",{className:"font-medium",children:$+1})," to"," ",e("span",{className:"font-medium",children:Math.min(z,k.length)})," ","of ",e("span",{className:"font-medium",children:k.length})," results"]})}),e("div",{children:e("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e("button",{onClick:H,disabled:f===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${f===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e("span",{className:"sr-only",children:"Previous"}),e("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,x)},(n,l)=>{let g;return x<=5||f<=3?g=l+1:f>=x-2?g=x-4+l:g=f-2+l,g<1||g>x?null:e("button",{onClick:()=>E(g),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${f===g?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:g},g)}),e("button",{onClick:U,disabled:f===x,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${f===x?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e("span",{className:"sr-only",children:"Next"}),e("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})})]}):e("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(n=>e("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e("div",{className:"p-6",children:[e("div",{className:"flex items-center",children:[e("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:e("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e("div",{className:"ml-5 w-0 flex-1",children:[e("div",{className:"flex items-center justify-between",children:[e("h3",{className:"text-lg font-medium text-gray-900",children:n.name}),n.isNew&&e("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"New"})]}),e("p",{className:"mt-1 text-sm text-gray-500",children:n.locationName||n.location||"No location"})]})]}),e("div",{className:"mt-6 flex justify-end relative z-10",children:e("div",{className:"relative",ref:w,style:{position:"relative",zIndex:y===`grid-${n.id}`?1e3:"auto"},children:[e("button",{type:"button",ref:l=>j(l,`grid-${n.id}`),onClick:l=>{l.stopPropagation(),F(`grid-${n.id}`)},className:"text-gray-400 hover:text-gray-500 focus:outline-none","aria-haspopup":"true","aria-expanded":y===`grid-${n.id}`,children:[e("span",{className:"sr-only",children:"Open options"}),e("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})]}),y===`grid-${n.id}`&&e("div",{className:"origin-top-right fixed right-4 mt-1 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:e("div",{className:"py-1",role:"none",children:[e("button",{onClick:l=>{l.stopPropagation(),d(n),N(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"Edit"}),e("button",{onClick:l=>{l.stopPropagation(),c(n)(l),N(null)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"View"}),e("button",{onClick:l=>{l.stopPropagation(),C(n),N(null)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",role:"menuitem",children:"Delete"})]})})]})})]})},n.id))})})]})};function se({isOpen:r=!1,onClose:c=()=>{},onCreateMenu:d=()=>{}}){return r?e("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[e("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Welcome to Menus"}),e("p",{className:"text-sm text-gray-600 mb-4",children:"Create your first menu to get started. You can add items, set locations and customise availability."}),e("div",{className:"flex justify-end gap-3",children:[e("button",{className:"px-4 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50",onClick:c,children:"Close"}),e("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",onClick:()=>{d()},children:"Create menu"})]})]})}):null}const T="menus",K=[{id:"1",name:"Breakfast Menu",description:"Start your day right with our breakfast selection",location:"1",locationName:"Main Branch",items:[],groups:[],modifiers:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"2",name:"Lunch Menu",description:"Delicious lunch options for everyone",location:"1",locationName:"Main Branch",items:[],groups:[],modifiers:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"3",name:"Dinner Menu",description:"A perfect way to end your day",location:"1",locationName:"Main Branch",items:[],groups:[],modifiers:[],isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],oe=`
  @keyframes modal-enter {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
`,de=()=>{const[r,c]=h({name:"",location:"sedave",locationName:"Main Branch",locationNames:[]}),[d,C]=h([]),[p,O]=h(null),[L,V]=h(!0),[S,A]=h(!1),[P,D]=h(!1),[f,b]=h(!1),y=ee(),[N,w]=h(!1),[i,v]=h([]),[k,x]=h("");I(()=>{const t=()=>{try{const s=localStorage.getItem("locations");if(s){const o=JSON.parse(s);if(Array.isArray(o)){const m=r.location?r.location.split(","):[],M=o.map(u=>({id:u.id||"",name:u.name||"Unnamed Location",type:u.type||"Dine-in",address:u.address||"",city:u.city||"",phone:u.phone||"",email:u.email||"",selected:m.includes(u.id)}));v(M),M.length>0&&!M.some(u=>u.selected)&&!r.location&&c(u=>({...u,location:M[0].id,locationName:M[0].name}))}else v([])}else v([])}catch(s){console.error("Error loading locations:",s),v([])}};t();const a=s=>{s.key==="locations"&&t()};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[r.location]);const[z,$]=h(!1);I(()=>{(()=>{try{const a=localStorage.getItem(T);if(console.log("Saved menus from localStorage:",a?JSON.parse(a):"No saved menus"),a){const o=JSON.parse(a).map(m=>{if(!m.createdAt)return m;const M=new Date(m.createdAt),u=new Date;return u.setHours(u.getHours()-24),{...m,isNew:M>u}});C(o),console.log("Updated menus with isNew flag:",o)}else C(K),$(!0),A(!0)}catch(a){console.error("Error loading menus:",a),C(K)}finally{V(!1),A(!0)}})()},[]),I(()=>{d.length>0&&localStorage.setItem(T,JSON.stringify(d))},[d]);const R=t=>{if(t.preventDefault(),t.stopPropagation(),!r.name.trim()){alert("Please enter a menu name");return}if(!r.location){alert("Please select at least one location");return}const a=U(),s={id:a,name:r.name,description:"A new menu",location:r.location,locationName:r.locationName||"Multiple Locations",locationNames:r.locationNames||[],items:[],groups:[],modifiers:[],isActive:!0,isNew:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o=[...d,s];console.log("New menu created:",s),console.log("All menus:",o),C(o),localStorage.setItem(T,JSON.stringify(o)),b(!1),c({name:"",location:"",locationName:""}),y(`/items/menus/${a}`)},E=!r.name.trim(),U=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),H=t=>a=>{if(a.preventDefault(),t==="blank"){const s=i.filter(m=>m.selected),o=s.length>0?s:[i[0]];c({name:"",location:o.map(m=>m.id).join(","),locationName:o.length===1?o[0].name:`${o.length} locations`,locationNames:o.map(m=>m.name)}),D(!1),b(!0)}else t==="duplicate"||t==="template"?console.log("Menu type:",t):(t==="import"||t==="upload")&&console.log("Menu import/upload:",t)},W=t=>{c(a=>({...a,name:t.currentTarget.value}))},_=t=>{if(confirm(`Are you sure you want to delete the menu "${t.name}"?`)){const a=d.filter(s=>s.id!==t.id);C(a),localStorage.setItem(T,JSON.stringify(a)),p?.id===t.id&&O(a[0]||null)}},F=t=>a=>{a.preventDefault(),a.stopPropagation(),y(`/items/menus/${t.id}`)},j=t=>{O(t),c({name:t.name||"",location:t.location||"",locationName:t.locationName||t.location||""}),D(!0)},n=t=>{v(a=>a.map(s=>s.id===t?{...s,selected:!s.selected}:s))},l=t=>{const a=t.target.checked,s=i.map(o=>({...o,selected:a}));v(s)},g=i.length>0&&i.every(t=>t.selected);I(()=>{if(i.length>0){const t=i.find(a=>a.selected)||i[0];t&&!r.location&&c(a=>({...a,location:t.id,locationName:t.name}))}},[i]);const X=t=>{t.preventDefault(),t.stopPropagation();const a=i.filter(s=>s.selected);if(a.length>0){const s=a.length===1?a[0].name:`${a.length} locations selected`,o=a.map(m=>m.id).join(",");c(m=>({...m,location:o,locationName:s,locationNames:a.map(M=>M.name)}))}else c(s=>({...s,location:"",locationName:"",locationNames:[]}))},q=t=>{X(t),w(!1)},Q=()=>{if(r.location){const t=r.location.split(",");v(a=>a.map(s=>({...s,selected:t.includes(s.id)})))}else v(t=>t.map(a=>({...a,selected:!1})));w(!0)};return L?e("div",{className:"flex items-center justify-center min-h-screen",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(I(()=>{console.log("Current menus state:",d.map(t=>({id:t.id,name:t.name,isNew:t.isNew,createdAt:t.createdAt})))},[d]),p?e("div",{className:"min-h-screen bg-gray-50",children:e("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e("div",{className:"flex justify-between items-center mb-6",children:[e("div",{children:[e("h1",{className:"text-2xl font-bold text-gray-900",children:p.name}),e("p",{className:"text-sm text-gray-500",children:p.location})]}),e("div",{className:"flex space-x-2",children:[e("button",{onClick:()=>j(p),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit Menu"}),e("button",{onClick:()=>O(null),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Menus"})]})]}),e("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e("div",{className:"px-4 py-5 sm:px-6",children:[e("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Menu Items"}),e("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:[p.items?.length||0," items in this menu"]})]}),e("div",{className:"border-t border-gray-200",children:!p.items||p.items.length===0?e("div",{className:"text-center py-12",children:[e("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),e("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No items"}),e("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new item to this menu."}),e("div",{className:"mt-6",children:e("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Item"]})})]}):e("ul",{className:"divide-y divide-gray-200",children:(p.items||[]).map(t=>e("li",{className:"px-4 py-4 sm:px-6",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center",children:e("div",{className:"min-w-0 flex-1",children:[e("p",{className:"text-sm font-medium text-blue-600 truncate",children:t.name}),e("p",{className:"text-sm text-gray-500 truncate",children:t.description})]})}),e("div",{className:"ml-2 flex-shrink-0 flex",children:e("p",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:["$",t.price?.toFixed(2)||"0.00"]})})]})},t.id))})})]})]})}):e("div",{className:"min-h-screen bg-white",children:[e("style",{dangerouslySetInnerHTML:{__html:oe}}),e("main",{className:"py-6 px-4 sm:px-6 lg:px-8",children:e("div",{className:"max-w-7xl mx-auto",children:e(re,{menus:d,onMenuSelect:F,onMenuEdit:j,onMenuDelete:_,onCreateNew:()=>{O(null),c({name:"",location:i[0]?.id||"",locationName:i[0]?.name||"Main Dining"}),D(!0)}})})}),e(G,{isOpen:P,onClose:()=>D(!1),title:"Create a menu",description:"How would you like to start build menu?",size:"lg",textAlign:"left",children:e("div",{className:"mb-2 space-y-4",children:[e("button",{className:"w-full text-left border border-gray-200 rounded-lg p-4 hover:border-blue-400 hover:bg-blue-50 transition-colors",onClick:H("blank"),children:e("div",{className:"flex items-center",children:[e("span",{className:"inline-flex items-center justify-center p-3.5 mr-3 bg-gray-100 rounded",children:e("svg",{role:"img",viewBox:"0 0 14 14",className:"w-3 h-3",children:e("path",{d:"M8 14V8H14V6H8V0H6V6H0V8H6V14H8Z",fill:"black"})})}),e("div",{children:[e("div",{className:"font-medium text-gray-900",children:"Start from scratch"}),e("div",{className:"text-sm text-gray-400",children:"Add and organise items as you build a menu."})]})]})}),e("button",{className:`w-full text-left border rounded-lg p-4 transition-colors ${d.length===0?"bg-gray-50 border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>d.length>0&&H("import"),disabled:d.length===0,children:e("div",{className:"flex items-center",children:[e("svg",{role:"img",viewBox:"0 0 24 24",height:"40",width:"40",id:"",className:" p-2 mr-3 bg-gray-100 rounded inline-flex",children:e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.71 7.7098L16.71 11.7098L15.3 10.2898L17.59 7.9998H4V5.9998H17.59L15.3 3.7098L16.71 2.2998L20.71 6.2998C21.1 6.6898 21.1 7.3198 20.71 7.7098ZM8.70006 20.2998L7.29006 21.7098L3.29006 17.7098C2.90006 17.3198 2.90006 16.6898 3.29006 16.2998L7.29006 12.2998L8.70006 13.7098L6.41006 15.9998H20.0001V17.9998H6.41006L8.70006 20.2998Z",fill:"black"})}),e("div",{children:[e("div",{className:"font-medium text-gray-900",children:"Import your menu from another platform"}),e("div",{className:"text-sm text-gray-400",children:"Import from other platforms, such as another POS or delivery service."})]})]})}),e("button",{className:"w-full  text-left border border-gray-200 rounded-lg p-4 hover:border-blue-400 hover:bg-blue-50 transition-colors",onClick:H("upload"),children:e("div",{className:"flex items-center",children:[e("svg",{role:"img",viewBox:"0 0 24 24",height:"40",width:"40",id:"",className:" p-2 mr-3 bg-gray-100 rounded inline-flex",children:e("path",{d:"M13 2H11H8C6.34 2 5 3.34 5 5V19C5 20.66 6.34 22 8 22H16C17.66 22 19 20.66 19 19V10V8L13 2ZM16.17 8H13V4.83L16.17 8ZM17 19C17 19.55 16.55 20 16 20H8C7.45 20 7 19.55 7 19V5C7 4.45 7.45 4 8 4H11V8V10H13H17V19Z",fill:"black"})}),e("div",{children:[e("div",{className:"font-medium text-gray-900",children:"Upload a file or photo of your existing menu"}),e("div",{className:"text-sm text-gray-400",children:"We'll automatically detect the format and convert it for you."})]})]})})]})}),e(G,{isOpen:N,onClose:()=>w(!1),title:"Select Location",size:"sm",width:"400px",className:"locations-modal",children:e("div",{className:"space-y-4",children:[e("p",{className:"text-sm text-gray-600",children:"Select locations where you'd like to offer this menu to your customers."}),e("div",{className:"relative",children:[e("input",{type:"text",placeholder:"Search locations...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",value:k,onChange:t=>x(t.target.value)}),e("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e("div",{className:"border border-gray-200 rounded-md overflow-hidden",children:[e("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200 flex items-center",children:[e("input",{id:"select-all-locations",type:"checkbox",className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500",checked:g,onChange:l}),e("label",{htmlFor:"select-all-locations",className:"ml-2 text-sm font-medium text-gray-700",children:["Select All (",i.filter(t=>t.selected).length," of ",i.length," selected)"]})]}),e("div",{className:"divide-y divide-gray-200 max-h-60 overflow-y-auto",children:i.length===0?e("div",{className:"p-4 text-center text-sm text-gray-500",children:["No locations found. Please add locations in the",e("a",{href:"/settings/business/locations",className:"text-blue-600 hover:underline ml-1",onClick:t=>{t.preventDefault(),y("/settings/business/locations")},children:"Locations"})," page first."]}):i.filter(t=>t.name.toLowerCase().includes(k.toLowerCase())).map(t=>e("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer ${t.selected?"bg-blue-50":""}`,onClick:()=>n(t.id),children:e("div",{className:"flex items-center",children:[e("span",{className:`mr-3 h-5 w-5 flex items-center justify-center ${t.selected?"text-blue-600":"text-gray-400"}`,children:t.selected?e("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})})}),e("div",{children:[e("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e("div",{className:"text-xs text-gray-500",children:[t.type," • ",t.address]})]})]})},t.id))})]}),e("div",{className:"flex justify-end space-x-3 pt-2",children:[e("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e("button",{type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),q(t)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Done"})]})]})}),e(G,{isOpen:f,onClose:()=>b(!1),title:"Create Menu",size:"sm",width:"500px",showCloseButton:!1,children:e("div",{className:"space-y-6",children:[e("div",{className:"border border-gray-200  overflow-hidden",children:e("table",{className:"w-full",children:e("tbody",{children:[e("tr",{className:"border-b border-gray-200",children:[e("td",{className:"w-1/3 bg-gray-100 px-4 py-3 text-sm font-medium text-gray-700 border-r border-gray-200",children:"Menu Name"}),e("td",{className:"w-2/3",children:e("input",{type:"text",id:"menu-name",className:"w-full px-3 py-2 focus:outline-none bg-white",placeholder:"e.g., Coffee Menu",value:r.name,onInput:W})})]}),e("tr",{children:[e("td",{className:"w-1/3 bg-gray-100 px-4 py-3 text-sm font-medium text-gray-700 border-r border-gray-200",children:"Location"}),e("td",{className:"w-2/3",children:e("div",{className:"flex items-center justify-between w-full px-3 py-2",children:e("div",{className:"flex items-center w-full",children:[e("div",{className:"flex items-center flex-1",children:[e("span",{className:"text-gray-400",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),e("span",{className:"ml-2 text-gray-700",children:r.locationName||"Select location"})]}),e("button",{type:"button",onClick:t=>{t.stopPropagation(),Q()},className:"ml-2 text-sm text-blue-600 hover:text-blue-800 whitespace-nowrap",children:r.location?"Change":"Select"})]})})})]})]})})}),e("div",{className:"flex justify-between",children:[e("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e("button",{type:"button",onClick:R,disabled:E,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${E?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:"Save"})]})]})}),e(se,{isOpen:S&&z,onClose:()=>A(!1),onCreateMenu:()=>{A(!1),D(!0)}})]}))};export{de as default};
