import{u as e,d as l,y as Q,k as U,g as Ae}from"./index-CA4Nvb-W.js";import{M as Be}from"./Modal-BTfxsx6v.js";const Te=({onClose:a,onItemCreated:s})=>e("div",{children:[e("h2",{children:"Add Item"}),e("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Item Type"}),e("div",{className:"flex gap-3 justify-center mb-4",children:[e("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:()=>s("prepared-food"),children:"Prepared Food"}),e("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:()=>s("retail"),children:"Retail"})]}),e("button",{className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",onClick:a,children:"Cancel"})]});function Pe({onSave:a,onCancel:s,isSaving:d=!1,initialValues:g={},title:c="",submitLabel:w="",selectedItemType:v="",onChangeItemType:m,initialImageColor:A=""}){const[p,B]=l(()=>{const u={id:Date.now().toString(),name:"",price:"0",gtin:"",sku:"",reportingCategory:"",locations:"Heemeeh",description:"",kitchenFacingName:"",createdAt:new Date().toISOString(),image:{color:"#6B7280",initials:"NI"}};return{...u,...g,image:g?.image||u.image}}),b=u=>{const L=u.target,{name:I,value:q}=L;B(Z=>({...Z,[I]:q}))};return e("form",{onSubmit:u=>{u.preventDefault(),a(p)},className:"space-y-4",children:[c&&e("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:c}),e("div",{children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Item Name *"}),e("input",{type:"text",id:"name",name:"name",value:p.name,onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0,disabled:d})]}),e("div",{children:[e("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price *"}),e("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e("input",{type:"text",id:"price",name:"price",value:p.price,onChange:b,className:"pl-7 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"0.00",required:!0,disabled:d})]})]}),e("div",{children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),e("textarea",{id:"description",name:"description",rows:3,value:p.description||"",onChange:b,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:d})]}),e("div",{className:"flex justify-end space-x-3 pt-4",children:[e("button",{type:"button",onClick:s,disabled:d,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Cancel"}),e("button",{type:"submit",disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:d?e("div",{className:"flex items-center",children:[e("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w||"Saving..."]}):"Save Item"})]})]})}const He=[{id:"prepared-food",title:"Prepared food",description:"Best for restaurants or other food venues. Add nutritional information and identify food allergens.",icon:"🍽️"},{id:"beverage",title:"Beverage",description:"Drinks and other liquid items",icon:"☕"},{id:"physical-good",title:"Physical good",description:"Best for retail items such as clothing or jewellery.",icon:"📦"},{id:"digital",title:"Digital",description:"Best for digital products like software, ebooks, or courses.",icon:"💻"},{id:"custom",title:"Custom",description:"Create a custom item type",icon:"✨"}],We=({isOpen:a,initialSelectedType:s,onApply:d,onClose:g})=>{const[c,w]=l(s);return e(Be,{isOpen:a,onClose:g,title:"What type of item do you want to create?",primaryAction:{label:"Continue",onClick:()=>{d(c),g()},disabled:!c},secondaryAction:{label:"Cancel",onClick:g},children:e("div",{className:"space-y-3",children:He.map(m=>e("button",{onClick:()=>w(m.id),className:`w-full text-left border rounded-lg p-4 transition-colors ${c===m.id?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-gray-300"}`,children:e("div",{className:"flex items-center",children:[e("span",{className:"text-2xl mr-3",children:m.icon}),e("div",{className:"text-left",children:[e("div",{className:"font-medium text-gray-900",children:m.title}),e("div",{className:"text-sm text-gray-500",children:m.description})]})]})},m.id))})})},Y=`
  @keyframes slide-up {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  @keyframes slide-down {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(100%);
      opacity: 0;
    }
  }
  .animate-slide-up {
    animation: slide-up 0.3s ease-out;
  }
  .animate-slide-down {
    animation: slide-down 0.3s ease-in;
  }
  @keyframes modal-fade-in {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }
  .animate-modal-fade-in {
    animation: modal-fade-in 0.2s ease-out;
  }
`,Qe=()=>{const[a,s]=l([]),[d,g]=l(!0),[c,w]=l(""),[v,m]=l(""),[A,p]=l(""),[B,b]=l(!1),[N,u]=l(""),[L,I]=l(""),[q,Z]=l(null),[Oe,Ve]=l(""),[$e,ze]=l(""),[R,j]=l(null),[G,J]=l(!1),[M,K]=l(!1),[se,T]=l(!1),[ae,_]=l(""),[oe,X]=l(!1),[ie,P]=l(!1),[H,W]=l(null),[h,k]=l(!1),[f,O]=l(null),[o,S]=l([]),[de,V]=l(!1),[ee,$]=l(!1),[ce,z]=l(!1),[me,C]=l(!1),[ue,E]=l(!1),[te,D]=l("prepared-food"),[n,re]=l({images:!0,gtin:!1,sku:!0,reportingCategory:!1,locations:!0,stock:!1,price:!0});Q(()=>{const t=localStorage.getItem("items");t&&s(JSON.parse(t)),g(!1)},[]),Q(()=>{localStorage.setItem("items",JSON.stringify(a))},[a]);const le=()=>{const t=sessionStorage.getItem("hasSeenItemTypeModal")==="1",r=sessionStorage.getItem("lastItemType")||"prepared-food";t?(D(r),C(!0)):z(!0)};Q(()=>{const t=r=>{r.target.closest(".dropdown-container")||(j(null),J(!1))};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const he=()=>{if(v.trim()){const t={id:Date.now().toString(),name:v.trim(),price:A.trim()||"0",gtin:"",sku:"",reportingCategory:"",locations:"Heemeeh",createdAt:new Date().toISOString()};s(r=>[...r,t]),m(""),p("")}},ge=t=>{const r=a.find(i=>i.id===t);r&&(W(r),P(!0)),j(null)},pe=async()=>{H&&!h&&(k(!0),await new Promise(t=>setTimeout(t,1e3)),s(t=>t.filter(r=>r.id!==H.id)),P(!1),W(null),k(!1))},be=()=>{P(!1),W(null),k(!1)},fe=()=>{o.length===y.length?S([]):S(y.map(t=>t.id))},xe=t=>{S(r=>r.includes(t)?r.filter(i=>i!==t):[...r,t])},ye=()=>{S([])},we=()=>{V(!0),$(!1)},ve=async()=>{o.length>0&&!h&&(k(!0),await new Promise(t=>setTimeout(t,1e3)),s(t=>t.filter(r=>!o.includes(r.id))),S([]),V(!1),k(!1))},Ne=()=>{V(!1),k(!1)},ke=()=>{$(!ee)},F=()=>{X(!0),setTimeout(()=>{T(!1),X(!1)},300)},Ce=()=>{b(!0)},Ie=()=>{b(!1),u(""),I("")},Se=async()=>{if(N.trim()&&!M){K(!0),await new Promise(r=>setTimeout(r,800));const t={id:Date.now().toString(),name:N.trim(),price:L.trim()||"0",gtin:"",sku:"",reportingCategory:"",locations:"0 locations",createdAt:new Date().toISOString()};s(r=>[t,...r]),u(""),I(""),b(!1),K(!1),T(!0),setTimeout(()=>{F()},3500)}},ne=t=>{D("prepared-food"),O(t),C(!0),j(null)},Le=t=>{j(R===t?null:t)},je=()=>{J(!G)},x=t=>{re(r=>({...r,[t]:!r[t]}))},Me=()=>{re({images:!0,gtin:!1,sku:!0,reportingCategory:!1,locations:!0,stock:!1,price:!0}),w("")},y=a.filter(t=>t.name.toLowerCase().includes(c.toLowerCase())||t.price.toLowerCase().includes(c.toLowerCase())),De=v.trim().length>0;return N.trim().length>0,d?e(U,{children:[e("style",{children:Y}),e("div",{className:"flex-1 overflow-auto bg-gray-50",children:e("div",{className:"p-6 max-w-7xl mx-auto",children:e("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e("div",{className:"text-gray-500",children:"Loading items..."})]})})})]}):a.length===0?e(U,{children:[e("style",{children:Y}),e("div",{className:"flex-1 overflow-auto bg-gray-50",children:e("div",{className:"p-6 max-w-7xl mx-auto",children:[e("div",{className:"bg-white rounded-lg border border-gray-200 p-12 mb-8",children:e("div",{className:"text-center",children:[e("div",{className:"mx-auto w-16 h-16 mb-6 flex items-center justify-center",children:e("svg",{className:"w-16 h-16 text-amber-600",fill:"currentColor",viewBox:"0 0 24 24",children:[e("path",{d:"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"}),e("path",{d:"M9 8V17H11V8H9ZM13 8V17H15V8H13Z"})]})}),e("h1",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Your item library"}),e("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto leading-relaxed",children:["Organise what you sell with the item library. Create items to help speed up checkout, view sales reports and track inventory."," ",e("a",{href:"#",className:"text-blue-600 hover:text-blue-700 underline",children:"Download our template"})," ","to create and update items with import."]}),e("div",{className:"flex gap-3 justify-center",children:[e("button",{onClick:le,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-medium transition-colors",children:"Create an item"}),e("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-medium transition-colors",children:"Import items"})]})]})}),e("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick create items"}),e("div",{className:"flex gap-4 items-center",children:[e("div",{className:"flex-shrink-0",children:e("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),e("div",{className:"flex-1",children:e("input",{type:"text",placeholder:"Item name",value:v,onChange:t=>m(t.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})}),e("div",{className:"w-48",children:e("input",{type:"text",placeholder:"Price",value:A,onChange:t=>p(t.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})}),e("button",{onClick:he,className:`px-6 py-2.5 rounded-lg font-medium transition-colors ${De?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Save"})]})]})]})})]}):e(U,{children:[e("style",{children:Y}),e("div",{className:"flex-1 overflow-auto bg-gray-50",children:e("div",{className:"p-6 max-w-7xl mx-auto",children:e("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[e("div",{className:"p-4",children:e("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 flex-1",children:[e("div",{className:"relative flex-1 max-w-full sm:max-w-md",children:[e("input",{type:"text",placeholder:"Search items...",value:c,onChange:t=>w(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors text-sm"}),e("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e("div",{className:"flex gap-2 sm:gap-3",children:[e("button",{onClick:Me,className:"px-3 sm:px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors border border-gray-300 rounded-lg hover:bg-gray-50 text-sm whitespace-nowrap",children:"Reset filters"}),e("button",{onClick:Ce,className:"px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-1 sm:gap-2 text-sm whitespace-nowrap",children:[e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e("span",{className:"hidden sm:inline",children:"Quick create"}),e("span",{className:"sm:hidden",children:"Create"})]})]})]}),e("div",{className:"flex items-center gap-2 sm:gap-3",children:[e("button",{className:"px-3 sm:px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-colors flex items-center gap-1 sm:gap-2 text-sm",children:["Actions",e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e("button",{onClick:le,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm whitespace-nowrap",children:[e("span",{className:"hidden sm:inline",children:"Create item"}),e("span",{className:"sm:hidden",children:"Create"})]})]})]})}),e("div",{children:[e("table",{className:"w-full",children:[e("thead",{className:"bg-gray-50 border-t border-gray-200",children:e("tr",{children:[e("th",{className:"px-4 py-3 text-left w-12",children:e("input",{type:"checkbox",className:"rounded border-gray-300",checked:o.length===y.length&&y.length>0,onChange:fe,ref:t=>{t&&(t.indeterminate=o.length>0&&o.length<y.length)}})}),n.images&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 w-16",children:"Images"}),e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 min-w-0",children:"Item"}),n.gtin&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden sm:table-cell",children:"GTIN"}),n.sku&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden md:table-cell",children:"SKU"}),n.reportingCategory&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden lg:table-cell",children:"Reporting c..."}),n.locations&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden lg:table-cell",children:"Locations"}),n.stock&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden xl:table-cell",children:"Stock"}),n.price&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 w-32",children:"Price"}),e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:e("div",{className:"relative dropdown-container",children:[e("button",{onClick:je,className:"text-gray-400 hover:text-gray-600",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),G&&e("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e("div",{className:"p-2",children:[e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("images"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.images?"bg-blue-600":"border border-gray-300"}`,children:n.images&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Images"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("gtin"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.gtin?"bg-blue-600":"border border-gray-300"}`,children:n.gtin&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-blue-600",children:"GTIN"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("sku"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.sku?"bg-blue-600":"border border-gray-300"}`,children:n.sku&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"SKU"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("reportingCategory"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.reportingCategory?"bg-blue-600":"border border-gray-300"}`,children:n.reportingCategory&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Reporting category"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("locations"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.locations?"bg-blue-600":"border border-gray-300"}`,children:n.locations&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Locations"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("stock"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.stock?"bg-blue-600":"border border-gray-300"}`,children:n.stock&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Stock"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>x("price"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.price?"bg-blue-600":"border border-gray-300"}`,children:n.price&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Price"})]})]})})]})})]})}),e("tbody",{className:"divide-y divide-gray-200",children:[B&&e("tr",{className:"bg-blue-50 border-l-4 border-blue-500",children:e("td",{className:"px-4 py-3",colSpan:100,children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-4",children:[e("div",{className:"w-48 sm:w-64",children:e("input",{type:"text",placeholder:"Item name",value:N,onChange:t=>u(t.target.value),className:"w-full px-3 py-2 border border-blue-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors text-sm",autoFocus:!0})}),e("div",{className:"w-24 sm:w-32",children:e("input",{type:"text",placeholder:"Price",value:L,onChange:t=>I(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors text-sm"})})]}),e("div",{className:"flex items-center gap-2",children:N.trim()?e("button",{onClick:Se,disabled:M,className:`w-16 h-8 rounded-lg text-sm font-medium transition-colors flex items-center justify-center ${M?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:M?e("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):"Save"}):e("button",{onClick:Ie,className:"px-3 py-1.5 text-red-600 hover:bg-red-50 rounded-lg text-sm font-medium transition-colors",children:"Cancel"})})]})})}),y.map(t=>e("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer group",onClick:()=>ne(t),children:[e("td",{className:"px-4 py-3 w-12",children:e("input",{type:"checkbox",className:"rounded border-gray-300",checked:o.includes(t.id),onClick:r=>r.stopPropagation(),onChange:()=>xe(t.id)})}),n.images&&e("td",{className:"px-4 py-3 w-16",children:e("div",{className:"w-10 h-10 rounded flex items-center justify-center",style:{backgroundColor:t.image?.color||"#E5E7EB"},children:e("span",{className:"text-white text-xs font-semibold",children:(t.image?.initials||t.name.slice(0,2)).toUpperCase()})})}),e("td",{className:"px-4 py-3 min-w-0",children:e("div",{className:"font-medium text-gray-900 truncate",children:t.name})}),n.gtin&&e("td",{className:"px-4 py-3 text-gray-500 hidden sm:table-cell",children:t.gtin||"-"}),n.sku&&e("td",{className:"px-4 py-3 text-gray-500 hidden md:table-cell",children:t.sku||"-"}),n.reportingCategory&&e("td",{className:"px-4 py-3 text-gray-500 hidden lg:table-cell",children:t.reportingCategory||"-"}),n.locations&&e("td",{className:"px-4 py-3 text-gray-500 hidden lg:table-cell",children:t.locations}),n.stock&&e("td",{className:"px-4 py-3 text-gray-500 hidden xl:table-cell",children:"-"}),n.price&&e("td",{className:"px-4 py-3 text-gray-900 w-32",children:["$",t.price]}),e("td",{className:"px-4 py-3 w-12",children:e("div",{className:"relative dropdown-container",children:[e("button",{onClick:r=>{r.stopPropagation(),Le(t.id)},className:"text-gray-400 hover:text-gray-600 p-1",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v.01M12 12v.01M12 18v.01"})})}),R===t.id&&e("div",{className:"absolute right-0 top-full mt-1 w-32 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e("button",{onClick:r=>{r.stopPropagation(),ne(t)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-t-lg",children:"Edit"}),e("button",{onClick:r=>{r.stopPropagation(),ge(t.id)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 rounded-b-lg",children:"Delete"})]})]})})]},t.id))]})]}),y.length===0&&a.length>0&&e("div",{className:"text-center py-12",children:[e("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"No items found"}),e("div",{className:"text-gray-400 text-sm",children:"Consider adjusting your search term or filters"})]})]})]})})}),o.length>0&&e("div",{className:"fixed bottom-0 left-64 right-0 bg-gray-50 z-40",children:e("div",{className:"p-6",children:e("div",{className:"max-w-7xl mx-auto bg-white border border-gray-200 rounded-lg shadow-lg px-6 py-4",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-4",children:[e("span",{className:"text-sm font-medium text-gray-900",children:[o.length," ",o.length===1?"variation":"variations"," selected"]}),e("button",{onClick:ye,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Deselect all"})]}),e("div",{className:"flex items-center gap-3",children:[e("div",{className:"relative dropdown-container",children:[e("button",{onClick:ke,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors flex items-center gap-2",children:["Actions",e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ee&&e("div",{className:"absolute bottom-full right-0 mb-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e("button",{onClick:we,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 rounded-t-lg",children:"Delete"}),e("button",{onClick:()=>$(!1),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-b-lg",children:"Set as non-taxable"})]})]}),e("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Update items"})]})]})})})}),de&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4 animate-modal-fade-in",children:e("div",{className:"text-center",children:[e("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Items"}),e("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to delete ",o.length," ",o.length===1?"item":"items","? This action cannot be undone."]}),e("div",{className:"flex gap-3 justify-center",children:[e("button",{onClick:Ne,disabled:h,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e("button",{onClick:ve,disabled:h,className:`w-20 h-10 rounded-lg font-medium transition-colors flex items-center justify-center ${h?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"} text-white`,children:h?e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Delete"})]})]})})}),ie&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4 animate-modal-fade-in",children:e("div",{className:"text-center",children:[e("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Item"}),e("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to delete ",e("span",{className:"font-medium text-gray-900",children:H?.name})," item? This action cannot be undone."]}),e("div",{className:"flex gap-3 justify-center",children:[e("button",{onClick:be,disabled:h,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),e("button",{onClick:pe,disabled:h,className:`w-20 h-10 rounded-lg font-medium transition-colors flex items-center justify-center ${h?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"} text-white`,children:h?e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Delete"})]})]})})}),se&&e("div",{className:`fixed bottom-4 left-64 right-0 flex justify-center z-50 ${oe?"animate-slide-down":"animate-slide-up"}`,children:e("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-4 flex items-center gap-3 min-w-80",children:[e("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("div",{className:"flex-1",children:[e("div",{className:"text-gray-900 font-medium",children:ae||"Done successfully."}),e("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View item"})]}),e("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 p-1",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),ce&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e(Te,{onClose:()=>z(!1),onItemCreated:t=>{sessionStorage.setItem("hasSeenItemTypeModal","1"),sessionStorage.setItem("lastItemType",t),D(t),z(!1),C(!0)}})}),e(Ae,{isOpen:me,onClose:()=>C(!1),children:e(Pe,{selectedItemType:te,title:f?"Update item":"Create item",submitLabel:f?"Update":"Save",initialValues:f?{name:f.name,kitchenFacingName:"",description:""}:void 0,initialImageColor:f?.image?.color,onSave:t=>{if(f)s(r=>r.map(i=>i.id===f.id?{...i,name:t.name||i.name,image:t.image||i.image}:i)),O(null),_("Item updated successfully.");else{const r={id:Date.now().toString(),name:t.name||"Untitled Item",price:"0",gtin:"",sku:"",reportingCategory:"",locations:"Heemeeh",createdAt:new Date().toISOString(),image:t.image};s(i=>[r,...i]),_("1 new item created successfully.")}C(!1),T(!0),setTimeout(()=>{F()},3500)},onCancel:()=>{O(null),C(!1)},onChangeItemType:()=>{E(!0)}})}),e(We,{isOpen:ue,initialSelectedType:te,onClose:()=>E(!1),onApply:t=>{sessionStorage.setItem("lastItemType",t),D(t),E(!1)}})]})};export{Qe as ItemLibrary,Qe as default};
