import{u as e,d as l,A as se,y as T,k as P}from"./index-B6r6h-M4.js";import{M as Be}from"./Modal-OohKvUJY.js";const Te=({onClose:s,onItemCreated:a})=>e("div",{children:[e("h2",{children:"Add Item"}),e("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Item Type"}),e("div",{className:"flex gap-3 justify-center mb-4",children:[e("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:()=>a("prepared-food"),children:"Prepared Food"}),e("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:()=>a("retail"),children:"Retail"})]}),e("button",{className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",onClick:s,children:"Cancel"})]}),Pe=({isOpen:s,onClose:a,children:o})=>{const[u,i]=l(s),[x,h]=l(!1),d=se(!0),g=se(null);T(()=>{if(s)i(!0),document.body.style.overflow="hidden",d.current?(d.current=!1,requestAnimationFrame(()=>{g.current&&g.current.offsetHeight,requestAnimationFrame(()=>{h(!0)})})):requestAnimationFrame(()=>{g.current&&g.current.offsetHeight,h(!0)});else{h(!1);const S=setTimeout(()=>{s||(i(!1),document.body.style.overflow="unset")},300);return()=>clearTimeout(S)}return()=>{document.body.style.overflow="unset"}},[s]);const p=()=>{a()};return u?e("div",{className:"fixed inset-0 z-50 overflow-hidden",ref:g,children:[e("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 ${x?"bg-opacity-50":"bg-opacity-0"}`,onClick:p,"aria-hidden":"true"}),e("div",{className:`absolute bottom-0 left-0 right-0 h-full bg-white shadow-xl transform transition-transform duration-300 ease-in-out ${x?"translate-y-0":"translate-y-full"}`,ref:g,children:o||e(P,{children:[e("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white flex-shrink-0",children:[e("button",{onClick:p,className:"w-8 h-8 flex items-center justify-center hover:bg-gray-100 rounded-lg transition-colors",children:e("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e("h2",{className:"text-lg font-semibold text-gray-900",children:"Settings"}),e("div",{className:"w-8 h-8"})," "]}),e("div",{className:"flex-1 overflow-y-auto min-h-0",children:e("div",{className:"p-6",children:e("div",{className:"max-w-4xl mx-auto space-y-8 pb-8",children:e("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),e("p",{className:"text-gray-600",children:"Default settings content."})]})})})})]})})]}):null};function He({onSave:s,onCancel:a,isSaving:o=!1,initialValues:u={},title:i="",submitLabel:x="",selectedItemType:h="",onChangeItemType:d,initialImageColor:g=""}){const[p,S]=l(()=>{const f={id:Date.now().toString(),name:"",price:"0",gtin:"",sku:"",reportingCategory:"",locations:"Heemeeh",description:"",kitchenFacingName:"",createdAt:new Date().toISOString(),image:{color:"#6B7280",initials:"NI"}};return{...f,...u,image:u?.image||f.image}}),y=f=>{const M=f.target,{name:L,value:U}=M;S(Y=>({...Y,[L]:U}))};return e("form",{onSubmit:f=>{f.preventDefault(),s(p)},className:"space-y-4",children:[i&&e("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:i}),e("div",{children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Item Name *"}),e("input",{type:"text",id:"name",name:"name",value:p.name,onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0,disabled:o})]}),e("div",{children:[e("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price *"}),e("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),e("input",{type:"text",id:"price",name:"price",value:p.price,onChange:y,className:"pl-7 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"0.00",required:!0,disabled:o})]})]}),e("div",{children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description (Optional)"}),e("textarea",{id:"description",name:"description",rows:3,value:p.description||"",onChange:y,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",disabled:o})]}),e("div",{className:"flex justify-end space-x-3 pt-4",children:[e("button",{type:"button",onClick:a,disabled:o,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Cancel"}),e("button",{type:"submit",disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?e("div",{className:"flex items-center",children:[e("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x||"Saving..."]}):"Save Item"})]})]})}const We=[{id:"prepared-food",title:"Prepared food",description:"Best for restaurants or other food venues. Add nutritional information and identify food allergens.",icon:"🍽️"},{id:"beverage",title:"Beverage",description:"Drinks and other liquid items",icon:"☕"},{id:"physical-good",title:"Physical good",description:"Best for retail items such as clothing or jewellery.",icon:"📦"},{id:"digital",title:"Digital",description:"Best for digital products like software, ebooks, or courses.",icon:"💻"},{id:"custom",title:"Custom",description:"Create a custom item type",icon:"✨"}],Ve=({isOpen:s,initialSelectedType:a,onApply:o,onClose:u})=>{const[i,x]=l(a);return e(Be,{isOpen:s,onClose:u,title:"What type of item do you want to create?",primaryAction:{label:"Continue",onClick:()=>{o(i),u()},disabled:!i},secondaryAction:{label:"Cancel",onClick:u},children:e("div",{className:"space-y-3",children:We.map(d=>e("button",{onClick:()=>x(d.id),className:`w-full text-left border rounded-lg p-4 transition-colors ${i===d.id?"border-amber-500 bg-amber-50":"border-gray-200 hover:border-gray-300"}`,children:e("div",{className:"flex items-center",children:[e("span",{className:"text-2xl mr-3",children:d.icon}),e("div",{className:"text-left",children:[e("div",{className:"font-medium text-gray-900",children:d.title}),e("div",{className:"text-sm text-gray-500",children:d.description})]})]})},d.id))})})},R=`
  @keyframes slide-up {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  @keyframes slide-down {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(100%);
      opacity: 0;
    }
  }
  .animate-slide-up {
    animation: slide-up 0.3s ease-out;
  }
  .animate-slide-down {
    animation: slide-down 0.3s ease-in;
  }
  @keyframes modal-fade-in {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }
  .animate-modal-fade-in {
    animation: modal-fade-in 0.2s ease-out;
  }
`,qe=()=>{const[s,a]=l([]),[o,u]=l(!0),[i,x]=l(""),[h,d]=l(""),[g,p]=l(""),[S,y]=l(!1),[k,f]=l(""),[M,L]=l(""),[U,Y]=l(null),[$e,Fe]=l(""),[ze,Oe]=l(""),[Z,D]=l(null),[G,J]=l(!1),[A,K]=l(!1),[ae,H]=l(!1),[oe,_]=l(""),[ie,X]=l(!1),[de,W]=l(!1),[V,$]=l(null),[b,C]=l(!1),[w,F]=l(null),[c,j]=l([]),[ce,z]=l(!1),[ee,O]=l(!1),[me,E]=l(!1),[ue,I]=l(!1),[he,Q]=l(!1),[te,B]=l("prepared-food"),[n,re]=l({images:!0,gtin:!1,sku:!0,reportingCategory:!1,locations:!0,stock:!1,price:!0});T(()=>{const t=localStorage.getItem("items");t&&a(JSON.parse(t)),u(!1)},[]),T(()=>{localStorage.setItem("items",JSON.stringify(s))},[s]);const le=()=>{const t=sessionStorage.getItem("hasSeenItemTypeModal")==="1",r=sessionStorage.getItem("lastItemType")||"prepared-food";t?(B(r),I(!0)):E(!0)};T(()=>{const t=r=>{r.target.closest(".dropdown-container")||(D(null),J(!1))};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const ge=()=>{if(h.trim()){const t={id:Date.now().toString(),name:h.trim(),price:g.trim()||"0",gtin:"",sku:"",reportingCategory:"",locations:"Heemeeh",createdAt:new Date().toISOString()};a(r=>[...r,t]),d(""),p("")}},pe=t=>{const r=s.find(m=>m.id===t);r&&($(r),W(!0)),D(null)},fe=async()=>{V&&!b&&(C(!0),await new Promise(t=>setTimeout(t,1e3)),a(t=>t.filter(r=>r.id!==V.id)),W(!1),$(null),C(!1))},be=()=>{W(!1),$(null),C(!1)},xe=()=>{c.length===N.length?j([]):j(N.map(t=>t.id))},ye=t=>{j(r=>r.includes(t)?r.filter(m=>m!==t):[...r,t])},we=()=>{j([])},ve=()=>{z(!0),O(!1)},Ne=async()=>{c.length>0&&!b&&(C(!0),await new Promise(t=>setTimeout(t,1e3)),a(t=>t.filter(r=>!c.includes(r.id))),j([]),z(!1),C(!1))},ke=()=>{z(!1),C(!1)},Ce=()=>{O(!ee)},q=()=>{X(!0),setTimeout(()=>{H(!1),X(!1)},300)},Ie=()=>{y(!0)},Se=()=>{y(!1),f(""),L("")},Le=async()=>{if(k.trim()&&!A){K(!0),await new Promise(r=>setTimeout(r,800));const t={id:Date.now().toString(),name:k.trim(),price:M.trim()||"0",gtin:"",sku:"",reportingCategory:"",locations:"0 locations",createdAt:new Date().toISOString()};a(r=>[t,...r]),f(""),L(""),y(!1),K(!1),H(!0),setTimeout(()=>{q()},3500)}},ne=t=>{B("prepared-food"),F(t),I(!0),D(null)},je=t=>{D(Z===t?null:t)},Me=()=>{J(!G)},v=t=>{re(r=>({...r,[t]:!r[t]}))},De=()=>{re({images:!0,gtin:!1,sku:!0,reportingCategory:!1,locations:!0,stock:!1,price:!0}),x("")},N=s.filter(t=>t.name.toLowerCase().includes(i.toLowerCase())||t.price.toLowerCase().includes(i.toLowerCase())),Ae=h.trim().length>0;return k.trim().length>0,o?e(P,{children:[e("style",{children:R}),e("div",{className:"flex-1 overflow-auto bg-gray-50",children:e("div",{className:"p-6 max-w-7xl mx-auto",children:e("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[e("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e("div",{className:"text-gray-500",children:"Loading items..."})]})})})]}):s.length===0?e(P,{children:[e("style",{children:R}),e("div",{className:"flex-1 overflow-auto bg-gray-50",children:e("div",{className:"p-6 max-w-7xl mx-auto",children:[e("div",{className:"bg-white rounded-lg border border-gray-200 p-12 mb-8",children:e("div",{className:"text-center",children:[e("div",{className:"mx-auto w-16 h-16 mb-6 flex items-center justify-center",children:e("svg",{className:"w-16 h-16 text-amber-600",fill:"currentColor",viewBox:"0 0 24 24",children:[e("path",{d:"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"}),e("path",{d:"M9 8V17H11V8H9ZM13 8V17H15V8H13Z"})]})}),e("h1",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Your item library"}),e("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto leading-relaxed",children:["Organise what you sell with the item library. Create items to help speed up checkout, view sales reports and track inventory."," ",e("a",{href:"#",className:"text-blue-600 hover:text-blue-700 underline",children:"Download our template"})," ","to create and update items with import."]}),e("div",{className:"flex gap-3 justify-center",children:[e("button",{onClick:le,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-medium transition-colors",children:"Create an item"}),e("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2.5 rounded-lg font-medium transition-colors",children:"Import items"})]})]})}),e("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick create items"}),e("div",{className:"flex gap-4 items-center",children:[e("div",{className:"flex-shrink-0",children:e("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})}),e("div",{className:"flex-1",children:e("input",{type:"text",placeholder:"Item name",value:h,onChange:t=>d(t.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})}),e("div",{className:"w-48",children:e("input",{type:"text",placeholder:"Price",value:g,onChange:t=>p(t.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors"})}),e("button",{onClick:ge,className:`px-6 py-2.5 rounded-lg font-medium transition-colors ${Ae?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Save"})]})]})]})})]}):e(P,{children:[e("style",{children:R}),e("div",{className:"flex-1 overflow-auto bg-gray-50",children:e("div",{className:"p-6 max-w-7xl mx-auto",children:e("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[e("div",{className:"p-4",children:e("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 flex-1",children:[e("div",{className:"relative flex-1 max-w-full sm:max-w-md",children:[e("input",{type:"text",placeholder:"Search items...",value:i,onChange:t=>x(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors text-sm"}),e("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e("div",{className:"flex gap-2 sm:gap-3",children:[e("button",{onClick:De,className:"px-3 sm:px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors border border-gray-300 rounded-lg hover:bg-gray-50 text-sm whitespace-nowrap",children:"Reset filters"}),e("button",{onClick:Ie,className:"px-3 sm:px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-1 sm:gap-2 text-sm whitespace-nowrap",children:[e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e("span",{className:"hidden sm:inline",children:"Quick create"}),e("span",{className:"sm:hidden",children:"Create"})]})]})]}),e("div",{className:"flex items-center gap-2 sm:gap-3",children:[e("button",{className:"px-3 sm:px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg font-medium transition-colors flex items-center gap-1 sm:gap-2 text-sm",children:["Actions",e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e("button",{onClick:le,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm whitespace-nowrap",children:[e("span",{className:"hidden sm:inline",children:"Create item"}),e("span",{className:"sm:hidden",children:"Create"})]})]})]})}),e("div",{children:[e("table",{className:"w-full",children:[e("thead",{className:"bg-gray-50 border-t border-gray-200",children:e("tr",{children:[e("th",{className:"px-4 py-3 text-left w-12",children:e("input",{type:"checkbox",className:"rounded border-gray-300",checked:c.length===N.length&&N.length>0,onChange:xe,ref:t=>{t&&(t.indeterminate=c.length>0&&c.length<N.length)}})}),n.images&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 w-16",children:"Images"}),e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 min-w-0",children:"Item"}),n.gtin&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden sm:table-cell",children:"GTIN"}),n.sku&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden md:table-cell",children:"SKU"}),n.reportingCategory&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden lg:table-cell",children:"Reporting c..."}),n.locations&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden lg:table-cell",children:"Locations"}),n.stock&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 hidden xl:table-cell",children:"Stock"}),n.price&&e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900 w-32",children:"Price"}),e("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-900",children:e("div",{className:"relative dropdown-container",children:[e("button",{onClick:Me,className:"text-gray-400 hover:text-gray-600",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),G&&e("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e("div",{className:"p-2",children:[e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("images"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.images?"bg-blue-600":"border border-gray-300"}`,children:n.images&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Images"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("gtin"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.gtin?"bg-blue-600":"border border-gray-300"}`,children:n.gtin&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-blue-600",children:"GTIN"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("sku"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.sku?"bg-blue-600":"border border-gray-300"}`,children:n.sku&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"SKU"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("reportingCategory"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.reportingCategory?"bg-blue-600":"border border-gray-300"}`,children:n.reportingCategory&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Reporting category"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("locations"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.locations?"bg-blue-600":"border border-gray-300"}`,children:n.locations&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Locations"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("stock"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.stock?"bg-blue-600":"border border-gray-300"}`,children:n.stock&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Stock"})]}),e("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>v("price"),children:[e("div",{className:`w-5 h-5 rounded flex items-center justify-center ${n.price?"bg-blue-600":"border border-gray-300"}`,children:n.price&&e("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("span",{className:"text-sm text-gray-700",children:"Price"})]})]})})]})})]})}),e("tbody",{className:"divide-y divide-gray-200",children:[S&&e("tr",{className:"bg-blue-50 border-l-4 border-blue-500",children:e("td",{className:"px-4 py-3",colSpan:100,children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-4",children:[e("div",{className:"w-48 sm:w-64",children:e("input",{type:"text",placeholder:"Item name",value:k,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 border border-blue-500 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors text-sm",autoFocus:!0})}),e("div",{className:"w-24 sm:w-32",children:e("input",{type:"text",placeholder:"Price",value:M,onChange:t=>L(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-colors text-sm"})})]}),e("div",{className:"flex items-center gap-2",children:k.trim()?e("button",{onClick:Le,disabled:A,className:`w-16 h-8 rounded-lg text-sm font-medium transition-colors flex items-center justify-center ${A?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:A?e("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):"Save"}):e("button",{onClick:Se,className:"px-3 py-1.5 text-red-600 hover:bg-red-50 rounded-lg text-sm font-medium transition-colors",children:"Cancel"})})]})})}),N.map(t=>e("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer group",onClick:()=>ne(t),children:[e("td",{className:"px-4 py-3 w-12",children:e("input",{type:"checkbox",className:"rounded border-gray-300",checked:c.includes(t.id),onClick:r=>r.stopPropagation(),onChange:()=>ye(t.id)})}),n.images&&e("td",{className:"px-4 py-3 w-16",children:e("div",{className:"w-10 h-10 rounded flex items-center justify-center",style:{backgroundColor:t.image?.color||"#E5E7EB"},children:e("span",{className:"text-white text-xs font-semibold",children:(t.image?.initials||t.name.slice(0,2)).toUpperCase()})})}),e("td",{className:"px-4 py-3 min-w-0",children:e("div",{className:"font-medium text-gray-900 truncate",children:t.name})}),n.gtin&&e("td",{className:"px-4 py-3 text-gray-500 hidden sm:table-cell",children:t.gtin||"-"}),n.sku&&e("td",{className:"px-4 py-3 text-gray-500 hidden md:table-cell",children:t.sku||"-"}),n.reportingCategory&&e("td",{className:"px-4 py-3 text-gray-500 hidden lg:table-cell",children:t.reportingCategory||"-"}),n.locations&&e("td",{className:"px-4 py-3 text-gray-500 hidden lg:table-cell",children:t.locations}),n.stock&&e("td",{className:"px-4 py-3 text-gray-500 hidden xl:table-cell",children:"-"}),n.price&&e("td",{className:"px-4 py-3 text-gray-900 w-32",children:["$",t.price]}),e("td",{className:"px-4 py-3 w-12",children:e("div",{className:"relative dropdown-container",children:[e("button",{onClick:r=>{r.stopPropagation(),je(t.id)},className:"text-gray-400 hover:text-gray-600 p-1",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v.01M12 12v.01M12 18v.01"})})}),Z===t.id&&e("div",{className:"absolute right-0 top-full mt-1 w-32 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e("button",{onClick:r=>{r.stopPropagation(),ne(t)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-t-lg",children:"Edit"}),e("button",{onClick:r=>{r.stopPropagation(),pe(t.id)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 rounded-b-lg",children:"Delete"})]})]})})]},t.id))]})]}),N.length===0&&s.length>0&&e("div",{className:"text-center py-12",children:[e("div",{className:"text-gray-500 text-lg font-medium mb-2",children:"No items found"}),e("div",{className:"text-gray-400 text-sm",children:"Consider adjusting your search term or filters"})]})]})]})})}),c.length>0&&e("div",{className:"fixed bottom-0 left-64 right-0 bg-gray-50 z-40",children:e("div",{className:"p-6",children:e("div",{className:"max-w-7xl mx-auto bg-white border border-gray-200 rounded-lg shadow-lg px-6 py-4",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-4",children:[e("span",{className:"text-sm font-medium text-gray-900",children:[c.length," ",c.length===1?"variation":"variations"," selected"]}),e("button",{onClick:we,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Deselect all"})]}),e("div",{className:"flex items-center gap-3",children:[e("div",{className:"relative dropdown-container",children:[e("button",{onClick:Ce,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors flex items-center gap-2",children:["Actions",e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ee&&e("div",{className:"absolute bottom-full right-0 mb-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e("button",{onClick:ve,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 rounded-t-lg",children:"Delete"}),e("button",{onClick:()=>O(!1),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-b-lg",children:"Set as non-taxable"})]})]}),e("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Update items"})]})]})})})}),ce&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4 animate-modal-fade-in",children:e("div",{className:"text-center",children:[e("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Items"}),e("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to delete ",c.length," ",c.length===1?"item":"items","? This action cannot be undone."]}),e("div",{className:"flex gap-3 justify-center",children:[e("button",{onClick:ke,disabled:b,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),e("button",{onClick:Ne,disabled:b,className:`w-20 h-10 rounded-lg font-medium transition-colors flex items-center justify-center ${b?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"} text-white`,children:b?e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Delete"})]})]})})}),de&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4 animate-modal-fade-in",children:e("div",{className:"text-center",children:[e("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Item"}),e("p",{className:"text-sm text-gray-500 mb-6",children:["Are you sure you want to delete ",e("span",{className:"font-medium text-gray-900",children:V?.name})," item? This action cannot be undone."]}),e("div",{className:"flex gap-3 justify-center",children:[e("button",{onClick:be,disabled:b,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),e("button",{onClick:fe,disabled:b,className:`w-20 h-10 rounded-lg font-medium transition-colors flex items-center justify-center ${b?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"} text-white`,children:b?e("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Delete"})]})]})})}),ae&&e("div",{className:`fixed bottom-4 left-64 right-0 flex justify-center z-50 ${ie?"animate-slide-down":"animate-slide-up"}`,children:e("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-4 flex items-center gap-3 min-w-80",children:[e("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e("div",{className:"flex-1",children:[e("div",{className:"text-gray-900 font-medium",children:oe||"Done successfully."}),e("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View item"})]}),e("button",{onClick:q,className:"text-gray-400 hover:text-gray-600 p-1",children:e("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),me&&e("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e(Te,{onClose:()=>E(!1),onItemCreated:t=>{sessionStorage.setItem("hasSeenItemTypeModal","1"),sessionStorage.setItem("lastItemType",t),B(t),E(!1),I(!0)}})}),e(Pe,{isOpen:ue,onClose:()=>I(!1),children:e(He,{selectedItemType:te,title:w?"Update item":"Create item",submitLabel:w?"Update":"Save",initialValues:w?{name:w.name,kitchenFacingName:"",description:""}:void 0,initialImageColor:w?.image?.color,onSave:t=>{if(w)a(r=>r.map(m=>m.id===w.id?{...m,name:t.name||m.name,image:t.image||m.image}:m)),F(null),_("Item updated successfully.");else{const r={id:Date.now().toString(),name:t.name||"Untitled Item",price:"0",gtin:"",sku:"",reportingCategory:"",locations:"Heemeeh",createdAt:new Date().toISOString(),image:t.image};a(m=>[r,...m]),_("1 new item created successfully.")}I(!1),H(!0),setTimeout(()=>{q()},3500)},onCancel:()=>{F(null),I(!1)},onChangeItemType:()=>{Q(!0)}})}),e(Ve,{isOpen:he,initialSelectedType:te,onClose:()=>Q(!1),onApply:t=>{sessionStorage.setItem("lastItemType",t),B(t),Q(!1)}})]})};export{qe as ItemLibrary,qe as default};
